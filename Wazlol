loadstring(game:HttpGet("https://api.jnkie.com/api/v1/luascripts/public/6ada0b815e7692bc716d915e9c9e78bf4cfc8c3a432566f179027077092db171/download"))()

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- 1. CONFIGURAZIONE INIZIALE SILENT AIM
getgenv().hdjsjxjsjsjsksjsjhi = getgenv().hdjsjxjsjsjsksjsjhi or {
	FovSize = 126,
	HitChance = 73,
	IgnorePolice = false,
	IgnoreCriminals = false,
	IgnorePrisoners = false,
    Enabled = true
}

-- 2. SERVIZI
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer
local Camera = Workspace.CurrentCamera
local Mouse = LocalPlayer:GetMouse()

-- 3. CARICAMENTO RAYFIELD
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Wazlol V3 | Rayfield Edition",
   LoadingTitle = "Caricamento in corso...",
   ConfigurationSaving = { Enabled = true },
   Theme = "Ocean"
})

-- 4. VARIABILI LOGICA
local CurrentTarget = nil
local Configs = {
    AutoGrab = true,
    InfJump = false,
    Targets = {
        ["FAL"] = true, ["SPAS"] = true, ["Keycard"] = true,
        ["Taser"] = true, ["Handcuffs"] = true, ["Minigun"] = true,
        ["UZI"] = true, ["Quad Launcher"] = true, ["Tazer"] = true,
        ["M60"] = true, ["AR 15"] = true, ["Deagle"] = true,
        ["Medkit"] = true, ["Baton"] = true, ["Remington 870"] = true,
        ["AK-47"] = true
    }
}

-- 5. DISEGNO CERCHIO FOV (Drawing API)
local FOVCircle = Drawing.new("Circle")
FOVCircle.Thickness = 2
FOVCircle.Color = Color3.fromRGB(29, 51, 222)
FOVCircle.Filled = false
FOVCircle.Transparency = 0.7
FOVCircle.Visible = true
FOVCircle.Radius = getgenv().hdjsjxjsjsjsksjsjhi.FovSize

-- 6. TABS RAYFIELD
local MainTab = Window:CreateTab("Main", 4483362458)
local OthersTab = Window:CreateTab("Others", 4483362458)

-- SEZIONE AUTOMATION (Main)
MainTab:CreateSection("Automation")
MainTab:CreateToggle({
   Name = "Waz LIP (Auto-Grab)",
   CurrentValue = true,
   Callback = function(v) Configs.AutoGrab = v end,
})

MainTab:CreateSlider({
   Name = "Silent Aim FOV",
   Range = {50, 600},
   Increment = 1,
   CurrentValue = 126,
   Callback = function(v)
       getgenv().hdjsjxjsjsjsksjsjhi.FovSize = v
       FOVCircle.Radius = v
   end,
})

-- SEZIONE SILENT AIM & MOVEMENT (Others)
OthersTab:CreateSection("Silent Aim Settings")
OthersTab:CreateToggle({
   Name = "Enable Silent Aim",
   CurrentValue = true,
   Callback = function(v) 
       getgenv().hdjsjxjsjsjsksjsjhi.Enabled = v 
       FOVCircle.Visible = v
   end,
})

OthersTab:CreateSlider({
   Name = "Hit Chance",
   Range = {1, 100},
   Increment = 1,
   CurrentValue = 73,
   Callback = function(v) getgenv().hdjsjxjsjsjsksjsjhi.HitChance = v end,
})

OthersTab:CreateSection("Movement")
OthersTab:CreateToggle({
   Name = "Auto Jump",
   CurrentValue = false,
   Callback = function(v) Configs.InfJump = v end,
})

-- 7. LOGICA SILENT AIM (Metamethod Hook)
local o; o = hookmetamethod(game, "__namecall", newcclosure(function(...)
	local Arguments = {...}
	local CalledMethod = getnamecallmethod()
	local CalledSelf = Arguments[1]
    
	if CalledSelf == Workspace and not checkcaller() and getgenv().hdjsjxjsjsjsksjsjhi.Enabled then
		if CurrentTarget then
			local HitRoll = math.random(1, 100)
			if HitRoll <= getgenv().hdjsjxjsjsjsksjsjhi.HitChance then
				if CalledMethod == "FindPartOnRayWithIgnoreList" or CalledMethod == "FindPartOnRay" then
					local RayOrigin = Arguments[2].Origin
					local TargetPosition = CurrentTarget.Position
					Arguments[2] = Ray.new(RayOrigin, TargetPosition - RayOrigin)
					return o(unpack(Arguments))
				elseif CalledMethod == "Raycast" then
					Arguments[3] = CurrentTarget.Position - Arguments[2]
					return o(unpack(Arguments))
				end
			end
		end
	end
	return o(...)
end))

-- 8. LOOP RENDERING (Targeting & Jump)
RunService.RenderStepped:Connect(function()
    FOVCircle.Position = Vector2.new(Mouse.X, Mouse.Y + 36)
    
    local char = LocalPlayer.Character
    if not char then return end

    -- Auto Jump
    if Configs.InfJump then
        local hum = char:FindFirstChildOfClass("Humanoid")
        if hum and hum.FloorMaterial ~= Enum.Material.Air then hum.Jump = true end
    end

    -- Ricerca Bersaglio
    CurrentTarget = nil
    local ClosestDistance = math.huge
    local MousePos = Vector2.new(Mouse.X, Mouse.Y)

    for _, v in Players:GetPlayers() do
        if v ~= LocalPlayer and v.Team ~= LocalPlayer.Team and v.Character and v.Character:FindFirstChild("Head") then
            local Head = v.Character.Head
            local hum = v.Character:FindFirstChildOfClass("Humanoid")
            if hum and hum.Health > 0 then
                local ScreenPos, OnScreen = Camera:WorldToViewportPoint(Head.Position)
                if OnScreen then
                    local Dist = (Vector2.new(ScreenPos.X, ScreenPos.Y) - MousePos).Magnitude
                    if Dist <= getgenv().hdjsjxjsjsjsksjsjhi.FovSize and Dist < ClosestDistance then
                        ClosestDistance = Dist
                        CurrentTarget = Head
                    end
                end
            end
        end
    end
end)

-- 9. LOGICA AUTO-GRAB
task.spawn(function()
    local Remote = ReplicatedStorage:WaitForChild("Events"):WaitForChild("RemoteEvent")
    while task.wait(0.3) do
        local pickups = Workspace:FindFirstChild("pickups")
        if Configs.AutoGrab and pickups then
            for _, item in pairs(pickups:GetChildren()) do
                local name = item.Name:gsub("%s+$", "")
                if Configs.Targets[name] then
                    local has = LocalPlayer.Backpack:FindFirstChild(name) or (LocalPlayer.Character and LocalPlayer.Character:FindFirstChild(name))
                    if not has or name == "Keycard" then
                        Remote:FireServer(12, item)
                    end
                end
            end
        end
    end
end)

Rayfield:Notify({
   Title = "Wazlol V3 Caricato",
   Content = "Interfaccia Rayfield e Silent Aim pronti.",
   Duration = 5
})
